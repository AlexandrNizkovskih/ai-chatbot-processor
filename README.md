# AI Chatbot Knowledge Base Builder

Этот проект автоматизирует обработку транскриптов видео с YouTube и формирует структурированную базу знаний, подходящую для RAG-систем, ассистентов и тематического поиска.

---

## Что делает проект

- Загружает `.txt` транскрипты видео с таймкодами из папки `transcripts/`
- Обрабатывает каждый файл через LLM (DeepSeek)
- Формирует структурированные данные по темам:
  - `topic` — заголовок темы
  - `keywords` — ключевые слова
  - `summary` — краткое описание
  - `text` — чистый связный текст
  - `fragments` — таймкод + пояснение + ссылка на YouTube
- Собирает `.jsonl` базу знаний (`base_array.jsonl`)
- Валидирует каждый JSONL-объект на соответствие схеме

---

## Как использовать

### 1. Установите зависимости:

```bash
pip install -r requirements.txt
```

### Укажите свой ключ OpenRouter в .env:
```bash
OPENROUTER_API_KEY=sk-...
```

### 3. Поместите .txt файлы в папку transcripts/

---

## Запуск через main.py
```bash
python main.py --process        # Обработка транскриптов через LLM
python main.py --build-jsonl    # Сборка базы знаний в JSONL
python main.py --check-jsonl    # Валидация структуры JSONL-файла
```

---

## Пример результата (base_array.jsonl)

```json
{
  "topic": "Выбор фундамента",
  "keywords": ["фундамент", "глубина", "материалы", "бетон"],
  "summary": "Разбор типов фундаментов и критериев их выбора",
  "text": "Фундамент должен соответствовать типу почвы и нагрузке...",
  "fragments": [
    {
      "timestamp": "00:12",
      "highlight": "Основной принцип выбора фундамента",
      "youtube_url": "https://youtube.com/watch?v=abc12345678#t=00m12s"
    }
  ]
}
```